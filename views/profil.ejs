<div class="profil-card ios-fadein">
  <h2 class="ios-title">Profil bearbeiten</h2>

  <!-- Name ändern -->
  <form action="/profil/name" method="POST" class="ios-form" novalidate>
    <label for="name">Name:</label>
    <input type="text" id="name" name="name" value="<%= user.username %>" required autocomplete="name" />
    <% if (nameMsg) { %>
      <div class="msg-success" role="alert"><%= nameMsg %></div>
    <% } %>
    <% if (nameErr) { %>
      <div class="msg-error" role="alert"><%= nameErr %></div>
    <% } %>
    <button type="submit" class="ios-btn ios-btn-small">Name speichern</button>
  </form>

  <hr class="ios-separator">

  <!-- Passwort ändern -->
  <form action="/profil/passwort" method="POST" autocomplete="off" class="ios-form" novalidate>
    <label for="oldpw">Altes Passwort:</label>
    <input type="password" id="oldpw" name="oldpw" required autocomplete="current-password" />
    <label for="newpw">Neues Passwort:</label>
    <input type="password" id="newpw" name="newpw" minlength="6" required autocomplete="new-password" />
    <% if (pwMsg) { %>
      <div class="msg-success" role="alert"><%= pwMsg %></div>
    <% } %>
    <% if (pwErr) { %>
      <div class="msg-error" role="alert"><%= pwErr %></div>
    <% } %>
    <button type="submit" class="ios-btn ios-btn-small">Passwort ändern</button>
  </form>
</div>

<style>
.profil-card {
  background: rgba(255,255,255,0.97);
  border-radius: 1.7em;
  box-shadow: 0 6px 32px #c9eed877, 0 1.5px 14px #54dc9737;
  border: 1.2px solid #c8eed4;
  padding: 2.2em 2em 1.7em 2em;
  max-width: 390px;
  margin: 2.5em auto 2.2em auto;
  font-family: 'SF Pro Display', 'Inter', 'Segoe UI', Arial, system-ui, sans-serif;
  display: flex;
  flex-direction: column;
  gap: 2em;
  animation: fadein-user 0.98s both;
}
.ios-fadein { animation: fadein-user 0.98s both; }

@keyframes fadein-user {
  from { opacity: 0; transform: translateY(18px);}
  to   { opacity: 1; transform: none;}
}

.ios-title {
  font-size: 2.1rem;
  font-weight: 900;
  color: #17432b;
  letter-spacing: -1.1px;
  margin: 0 0 1.3em 0;
  background: linear-gradient(91deg, #28543a 60%, #a2ffe2 120%);
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  background-clip: text;
  filter: drop-shadow(0 1px 10px #c9eed877);
  text-shadow: 0 2px 5px #c8eed48c;
}

.ios-form {
  display: flex;
  flex-direction: column;
  gap: 0.75em;
  background: none;
  margin-bottom: 0;
}
.ios-form label {
  font-weight: 600;
  color: #2fa770;
  font-size: 1.06em;
  margin-bottom: 0.11em;
  letter-spacing: 0.01em;
}
.ios-form input[type="text"],
.ios-form input[type="password"] {
  width: 100%;
  padding: 0.66em 1.1em;
  border: 1.2px solid #c8eed4;
  border-radius: 1.1em;
  background: #f7fdf8;
  font-size: 1.08em;
  font-family: inherit;
  margin-bottom: 0.13em;
  transition: border 0.13s, background 0.13s;
  outline: none;
}
.ios-form input:focus {
  border-color: #21a85d;
  background: #f1fff6;
}

.ios-btn {
  background: linear-gradient(91deg, #21a85d 0%, #2fa770 95%);
  color: #fff;
  font-weight: 800;
  border: none;
  border-radius: 1.3em;
  font-size: 1.09em;
  padding: 0.7em 1.55em;
  margin-top: 0.7em;
  box-shadow: 0 4px 18px #1ae68d17;
  cursor: pointer;
  transition: background 0.14s, box-shadow 0.14s, transform 0.12s;
  font-family: inherit;
  letter-spacing: 0.01em;
}
.ios-btn-small { font-size: 1em; padding: 0.55em 1.15em; margin-top: 0.5em; }
.ios-btn:hover {
  background: linear-gradient(91deg, #18984d 0%, #1bbf6c 95%);
  box-shadow: 0 7px 26px #2fa77033;
  transform: translateY(-2px) scale(1.03);
}

.ios-separator {
  border: none;
  border-top: 1.2px solid #e2efe9;
  margin: 2em 0 2em 0;
  opacity: 0.75;
  background: none;
}

.msg-success, .msg-error {
  font-size: 1em;
  border-radius: 1em;
  padding: 0.85em 1em;
  margin-bottom: 0.23em;
  margin-top: 0.2em;
  font-weight: 600;
  text-align: center;
  letter-spacing: 0.01em;
}
.msg-success {
  background: #f1fff3;
  color: #20a85a;
  border: 1.2px solid #c8eed4;
  box-shadow: 0 1px 6px #c8eed48c;
}
.msg-error {
  background: #ffe8e8;
  color: #a02020;
  border: 1.1px solid #ffd6d6;
  box-shadow: 0 1px 6px #fdcaca44;
}

/* Responsive */
@media (max-width: 700px) {
  .profil-card { padding: 1.2em 0.7em 1.1em 0.7em; max-width: 97vw; border-radius: 1.06em;}
  .ios-title { font-size: 1.25rem; }
  .ios-btn, .ios-btn-small { font-size: 1em; padding: 0.51em 1em;}
}
</style>
